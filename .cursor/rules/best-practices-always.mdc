---
alwaysApply: true
---
# PrincÃ­pio da ExcelÃªncia - Sempre o Melhor

## Filosofia Core

**SEMPRE escolha a MELHOR opÃ§Ã£o em TODOS os aspectos!**

NÃ£o aceite "bom o suficiente" - busque EXCELÃŠNCIA em tudo!

---

## ğŸ† Tecnologia - Sempre o Melhor

### Escolha Tecnologias:
- âœ… **Modernas** - VersÃµes atuais, nÃ£o legadas
- âœ… **PerformÃ¡ticas** - RÃ¡pidas e eficientes
- âœ… **Seguras** - Zero vulnerabilidades conhecidas
- âœ… **Mantidas** - Comunidade ativa, updates regulares
- âœ… **EscalÃ¡veis** - Suporta crescimento

### Exemplos:
```
âŒ EVITE:
- Bibliotecas deprecated
- VersÃµes antigas com vulnerabilidades
- SoluÃ§Ãµes lentas/ineficientes
- Tecnologias abandonadas

âœ… PREFIRA:
- FastAPI (nÃ£o Flask/Django lento)
- Next.js 14+ (nÃ£o Create React App)
- PostgreSQL (nÃ£o SQLite em produÃ§Ã£o)
- Redis (nÃ£o cache em memÃ³ria)
- Bcrypt/Argon2 (nÃ£o MD5/SHA1)
```

---

## ğŸ’» CÃ³digo - Sempre o Melhor

### Qualidade de CÃ³digo:
- âœ… **Limpo** - FÃ¡cil de ler e entender
- âœ… **Modular** - Componentes reutilizÃ¡veis
- âœ… **Tipado** - TypeScript/Type hints completos
- âœ… **Testado** - Cobertura >70%
- âœ… **Documentado** - ComentÃ¡rios Ãºteis

### PadrÃµes:
```python
# âŒ RUIM:
def f(x):
    return x * 2

# âœ… EXCELENTE:
def calculate_double_value(value: float) -> float:
    """
    Calcula o dobro de um valor.
    
    Args:
        value: Valor para duplicar
    
    Returns:
        Valor duplicado
    
    Example:
        >>> calculate_double_value(5.0)
        10.0
    """
    if value < 0:
        raise ValueError("Valor deve ser positivo")
    
    return value * 2.0
```

---

## ğŸ”’ SeguranÃ§a - Sempre o Melhor

### PrincÃ­pios de SeguranÃ§a:
- âœ… **Zero secrets** no cÃ³digo
- âœ… **ValidaÃ§Ã£o** em TODAS entradas
- âœ… **Criptografia** forte (AES-256)
- âœ… **HTTPS** sempre em produÃ§Ã£o
- âœ… **Rate limiting** em endpoints pÃºblicos
- âœ… **AutenticaÃ§Ã£o** moderna (JWT com refresh)
- âœ… **SanitizaÃ§Ã£o** de inputs (XSS/SQL injection)

### Exemplos:
```python
# âŒ INSEGURO:
SECRET_KEY = "my-secret-123"  # Hardcoded!
password = request.data['password']  # Sem validaÃ§Ã£o!
sql = f"SELECT * FROM users WHERE id = {user_id}"  # SQL injection!

# âœ… SEGURO:
SECRET_KEY = os.getenv('SECRET_KEY')  # VariÃ¡vel de ambiente
if not SECRET_KEY:
    raise ValueError("SECRET_KEY nÃ£o configurada!")

# ValidaÃ§Ã£o com Pydantic/Zod
password = PasswordValidator.validate(request.data['password'])

# Query parametrizada
user = db.query(User).filter(User.id == user_id).first()
```

---

## ğŸ—ï¸ Arquitetura - Sempre o Melhor

### PrincÃ­pios Arquiteturais:
- âœ… **SeparaÃ§Ã£o de Concerns** - Backend/Frontend/Bot separados
- âœ… **Modular** - Cada mÃ³dulo uma responsabilidade
- âœ… **EscalÃ¡vel** - Design para crescimento
- âœ… **Resiliente** - Trata falhas graciosamente
- âœ… **ObservÃ¡vel** - Logs, mÃ©tricas, monitoramento

### Estrutura:
```
âŒ EVITE:
- Monolito gigante
- CÃ³digo duplicado
- Acoplamento forte
- Sem tratamento de erros

âœ… PREFIRA:
- MÃ³dulos pequenos e focados
- DRY (Don't Repeat Yourself)
- Dependency Injection
- Try-catch em operaÃ§Ãµes crÃ­ticas
- Circuit breakers
```

---

## âš¡ Performance - Sempre o Melhor

### OtimizaÃ§Ãµes:
- âœ… **Ãndices** no banco de dados
- âœ… **Cache** para dados frequentes
- âœ… **Async/await** para I/O
- âœ… **Lazy loading** de componentes
- âœ… **PaginaÃ§Ã£o** de listas grandes
- âœ… **CompressÃ£o** de assets
- âœ… **CDN** para estÃ¡ticos

### Exemplos:
```python
# âŒ LENTO:
users = User.objects.all()  # Carrega TUDO
for user in users:
    trades = Trade.objects.filter(user_id=user.id)  # N+1 query!

# âœ… RÃPIDO:
users = User.objects.prefetch_related('trades').all()[:100]  # Limit + prefetch
# OU
trades = Trade.objects.filter(user_id__in=user_ids).select_related('user')
```

---

## ğŸ§ª Testes - Sempre o Melhor

### Cobertura de Testes:
- âœ… **UnitÃ¡rios** - FunÃ§Ãµes individuais
- âœ… **IntegraÃ§Ã£o** - Fluxos completos
- âœ… **E2E** - Interface do usuÃ¡rio
- âœ… **Performance** - Benchmarks
- âœ… **SeguranÃ§a** - Penetration tests

### MÃ­nimos:
```
Cobertura de testes: >70%
Testes crÃ­ticos: 100%
CI/CD: ObrigatÃ³rio
```

---

## ğŸ“š DocumentaÃ§Ã£o - Sempre o Melhor

### DocumentaÃ§Ã£o Completa:
- âœ… **README** - Como usar
- âœ… **API Docs** - Swagger/OpenAPI
- âœ… **Inline** - ComentÃ¡rios Ãºteis
- âœ… **Guides** - Tutoriais passo a passo
- âœ… **Changelog** - HistÃ³rico de mudanÃ§as
- âœ… **Troubleshooting** - SoluÃ§Ãµes de problemas

---

## ğŸš€ Deploy - Sempre o Melhor

### Infraestrutura:
- âœ… **PostgreSQL** em produÃ§Ã£o (nÃ£o SQLite)
- âœ… **Redis** para cache
- âœ… **PM2/Systemd** para processos
- âœ… **Nginx** como proxy reverso
- âœ… **HTTPS** com certificados vÃ¡lidos
- âœ… **Backups** automatizados diÃ¡rios
- âœ… **Monitoramento** 24/7 (Prometheus/Grafana)
- âœ… **Logs** estruturados (JSON)
- âœ… **Alertas** (Slack/Discord/Email)

---

## ğŸ¯ Checklist de ExcelÃªncia

Antes de considerar uma feature "completa", verifique:

- [ ] âœ… Usa a melhor tecnologia para o problema?
- [ ] âœ… CÃ³digo estÃ¡ limpo e bem estruturado?
- [ ] âœ… Type hints/TypeScript completos?
- [ ] âœ… ValidaÃ§Ãµes em todas entradas?
- [ ] âœ… Tratamento de erros robusto?
- [ ] âœ… SeguranÃ§a verificada? (sem secrets expostos)
- [ ] âœ… Performance otimizada? (Ã­ndices, cache)
- [ ] âœ… Testes escritos e passando?
- [ ] âœ… DocumentaÃ§Ã£o atualizada?
- [ ] âœ… Logs adequados para debug?
- [ ] âœ… EscalÃ¡vel para 10x mais usuÃ¡rios?
- [ ] âœ… Resiliente a falhas?

**Se QUALQUER resposta for NÃƒO â†’ MELHORE antes de continuar!**

---

## ğŸ’¡ Mentalidade

### Ao Implementar Qualquer Feature:

**Pergunte-se:**
1. Esta Ã© a MELHOR soluÃ§Ã£o?
2. HÃ¡ uma forma MAIS SEGURA?
3. HÃ¡ uma forma MAIS RÃPIDA?
4. HÃ¡ uma forma MAIS SIMPLES?
5. Vai escalar para 100x mais usuÃ¡rios?
6. EstÃ¡ usando best practices da indÃºstria?

**Se NÃƒO for o MELHOR â†’ REFATORE!**

---

## ğŸ”¥ Exemplos PrÃ¡ticos

### Escolha de Banco de Dados:

```
CenÃ¡rio: ProduÃ§Ã£o com mÃºltiplos usuÃ¡rios

âŒ SQLite - NÃ£o escala, locks, sem replicaÃ§Ã£o
âœ… PostgreSQL - EscalÃ¡vel, ACID, replicaÃ§Ã£o, Ã­ndices avanÃ§ados

Escolha: POSTGRESQL (sempre em produÃ§Ã£o!)
```

### Escolha de Cache:

```
CenÃ¡rio: Cache de dados frequentes

âŒ VariÃ¡vel global - Perde ao reiniciar, nÃ£o compartilha entre workers
âŒ Arquivo JSON - Lento, nÃ£o concorrente
âœ… Redis - RÃ¡pido, persistente, distribuÃ­do, TTL automÃ¡tico

Escolha: REDIS (sempre!)
```

### Escolha de Auth:

```
CenÃ¡rio: AutenticaÃ§Ã£o de usuÃ¡rios

âŒ Session cookies - NÃ£o escala horizontal, nÃ£o stateless
âŒ JWT de 30 dias - Risco se token vazado
âœ… JWT curto (15min) + Refresh Token (7 dias)

Escolha: JWT com REFRESH (melhor seguranÃ§a + UX!)
```

---

## ğŸ›¡ï¸ Nunca Comprometa

### NUNCA aceite:
- âŒ Secrets no cÃ³digo
- âŒ SQL injection vulnerabilities
- âŒ Senhas em plaintext
- âŒ CORS wildcard (*) em produÃ§Ã£o
- âŒ CÃ³digo sem testes em features crÃ­ticas
- âŒ Logs de senha/tokens
- âŒ Dependencies com vulnerabilidades

### SEMPRE exija:
- âœ… VariÃ¡veis de ambiente para secrets
- âœ… Queries parametrizadas
- âœ… Hash de senhas (bcrypt/argon2)
- âœ… CORS com lista explÃ­cita
- âœ… Testes em cÃ³digo crÃ­tico
- âœ… Logs estruturados (sem dados sensÃ­veis)
- âœ… Dependencies atualizadas

---

## ğŸ“Š MÃ©tricas de Qualidade

### CÃ³digo deve ter:
- **Complexidade ciclomÃ¡tica:** <10
- **Linhas por funÃ§Ã£o:** <50
- **Linhas por arquivo:** <500
- **DuplicaÃ§Ã£o:** <5%
- **Cobertura de testes:** >70%
- **Type coverage:** 100%

### Performance deve ter:
- **Response time:** <200ms (p95)
- **Queries DB:** <50ms
- **Cache hit rate:** >80%
- **Uptime:** >99.9%

---

## ğŸ¯ Resultado

**Seguindo estes princÃ­pios:**
- âœ… CÃ³digo de qualidade enterprise
- âœ… SeguranÃ§a mÃ¡xima
- âœ… Performance Ã³tima
- âœ… Manutenibilidade fÃ¡cil
- âœ… Escalabilidade garantida

**SEMPRE O MELHOR!** ğŸ†

---

## âš¡ Regra de Ouro

**Quando em dÃºvida entre duas soluÃ§Ãµes:**

1. Qual Ã© mais SEGURA? â†’ Escolha essa
2. Se empate, qual Ã© mais PERFORMÃTICA? â†’ Escolha essa
3. Se empate, qual Ã© mais SIMPLES? â†’ Escolha essa
4. Se empate, qual Ã© mais TESTÃVEL? â†’ Escolha essa
5. Se empate, qual Ã© mais ESCALÃVEL? â†’ Escolha essa

**SEMPRE escolha a opÃ§Ã£o que maximiza qualidade!**

**NÃƒO aceite "funciona" - exija "EXCELENTE"!** âœ¨
