---
alwaysApply: true
---

# Git Commit Convention

## Cada Tarefa = 1 Commit

**SEMPRE use o formato:**

```
feat: [ação realizada]
fix: [problema resolvido]
docs: [documentação atualizada]
refactor: [código melhorado sem mudar comportamento]
test: [testes adicionados/corrigidos]
chore: [manutenção, deps, config]
perf: [melhoria de performance]
```

---

## Regras Obrigatórias:

### 1. **Um commit por tarefa**
- Não agrupar múltiplas features
- Commits atômicos e focados
- Fácil de reverter se necessário

### 2. **Mensagem clara e concisa**
- Descrever O QUE foi feito (não como)
- Máximo 72 caracteres
- Imperativo ("Adiciona" não "Adicionado")

### 3. **Prefixo correto**
- **feat:** Nova funcionalidade para o usuário
- **fix:** Correção de bug
- **docs:** Apenas documentação
- **refactor:** Melhoria de código (comportamento igual)
- **test:** Adicionar/corrigir testes
- **chore:** Tarefas de manutenção
- **perf:** Otimização de performance

---

## ✅ Exemplos CORRETOS:

```bash
feat: Adiciona cotacao USD/BRL tempo real
fix: Corrige saldo modal intermitente  
feat: Implementa Top 5 Performance com CoinCap
fix: Remove multiplicacao duplicada no lucro
docs: Atualiza guia deploy producao
refactor: Melhora estrutura hook useCotacao
test: Adiciona testes endpoint /api/trades/stats
chore: Atualiza dependencias React 18.3
perf: Otimiza query bots com index
```

---

## ❌ Exemplos ERRADOS:

```bash
❌ Mudanças no código
❌ WIP
❌ Fix
❌ Atualizações várias
❌ Correções
❌ Updates
❌ feat: adiciona modal e endpoint e botao  # (3 coisas = 3 commits!)
```

---

## Commits Atômicos - SEMPRE!

### ✅ BOM (1 tarefa = 1 commit):

```bash
git commit -m "feat: Adiciona modal historico trades"
git commit -m "feat: Adiciona endpoint /api/trades/month"  
git commit -m "feat: Adiciona botao abrir modal"
```

### ❌ RUIM (agrupa várias tarefas):

```bash
git commit -m "feat: Modal + endpoint + botao historico"
```

---

## Quando Commitar:

**Commite IMEDIATAMENTE após:**
- Implementar 1 feature ✅
- Corrigir 1 bug ✅
- Adicionar 1 doc ✅
- Fazer 1 refactor ✅

**NÃO espere para:**
- ❌ Agrupar várias mudanças
- ❌ "Fazer mais uma coisinha"
- ❌ Commit no final do dia

---

## Estrutura da Mensagem:

```
<tipo>: <descrição curta>

[corpo opcional - explica O QUÊ e POR QUÊ, não COMO]

[footer opcional - refs issues/PRs]
```

### Exemplo completo:

```
feat: Adiciona validacao Zod no formulario login

Valida email e senha antes de enviar para API.
Mensagens de erro especificas para cada campo.

Refs: #123
```

---

## Checklist Antes de Commit:

- [ ] ✅ Apenas 1 tarefa neste commit?
- [ ] ✅ Prefixo correto (feat/fix/docs)?
- [ ] ✅ Mensagem clara e concisa?
- [ ] ✅ Código testado e funcionando?
- [ ] ✅ Build passa sem warnings?
- [ ] ✅ Sem arquivos desnecessários?

---

**Commits atômicos = Histórico limpo = Manutenção fácil!** ✅
